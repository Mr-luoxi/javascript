(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{196:function(t,s,i){},207:function(t,s,i){"use strict";var a=i(196);i.n(a).a},221:function(t,s,i){"use strict";i.r(s);var a=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"tmpl"},[n("navbar-vue",{attrs:{title:"购物车"}}),a._v(" "),n("div",{staticClass:"pay-detail"},[n("ul",a._l(a.goodsList,function(s,i){return n("li",{key:s.id,staticClass:"p-list"},[n("mt-switch",{model:{value:s.isPicked,callback:function(t){a.$set(s,"isPicked",t)},expression:"goods.isPicked"}}),a._v(" "),n("img",{attrs:{src:s.img_url}}),a._v(" "),n("div",{staticClass:"pay-calc"},[n("p",{domProps:{textContent:a._s(s.title)}}),a._v(" "),n("div",{staticClass:"calc"},[n("span",[a._v("￥"+a._s(s.sell_price))]),a._v(" "),n("span",{on:{click:function(t){return a.sub(i)}}},[a._v("-")]),a._v(" "),n("span",[a._v(a._s(s.num))]),a._v(" "),n("span",{on:{click:function(t){return a.add(i)}}},[a._v("+")]),a._v(" "),n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return a.del(i)}}},[a._v("删除")])])])],1)}),0)]),a._v(" "),n("div",{staticClass:"show-price"},[n("div",{staticClass:"show-1"},[n("p",[a._v("总计(不含运费):")]),a._v(" "),n("span",[a._v("已经选择商品"+a._s(a.payment.num)+"件，总价￥"+a._s(a.payment.sum)+"元")])]),a._v(" "),n("div",{staticClass:"show-2"},[n("mt-button",{attrs:{type:"danger",size:"large"}},[a._v("去结算")])],1)])],1)};a._withStripped=!0;var e=i(20),n=i(19),o={data:function(){return{goodsList:[]}},created:function(){var a=this,n=e.a.getData(),o=Object.keys(n);this.$axios.get("/shopcart").then(function(t){for(var s=0;s<o.length;s++)for(var i=0;i<t.data.length;i++)o[s]==t.data[i].id&&a.goodsList.push(t.data[i]);a.goodsList.forEach(function(t,s){n[t.id]&&(a.$set(t,"num",n[t.id]),a.$set(t,"isPicked",!0))})}).catch(function(t){})},methods:{sub:function(t){this.goodsList[t].num<=1||(this.goodsList[t].num--,n.a.$emit("addShopcart",-1),e.a.addOrUpdate({id:this.goodsList[t].id,num:-1}))},add:function(t){this.goodsList[t].num++,n.a.$emit("addShopcart",1),e.a.addOrUpdate({id:this.goodsList[t].id,num:1})},del:function(t){e.a.delete(this.goodsList[t]),n.a.$emit("addShopcart",-this.goodsList[t].num),this.goodsList.splice(t,1)}},computed:{payment:function(){var s=0,i=0;return this.goodsList.forEach(function(t){t.isPicked&&(s+=t.num*t.sell_price,i+=t.num)}),{num:i,sum:s}}}},c=(i(207),i(16)),d=Object(c.a)(o,a,[],!1,null,"f754aae2",null);d.options.__file="src/components/shopcart/shopcart.vue";s.default=d.exports}}]);