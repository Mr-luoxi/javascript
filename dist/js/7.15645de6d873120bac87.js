(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{205:function(t,i,s){},216:function(t,i,s){"use strict";var o=s(205);s.n(o).a},217:function(t,i,s){"use strict";s.r(i);var o=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("navbar-vue",{attrs:{title:"商品详情"}}),t._v(" "),s("div",{staticClass:"outer-swiper"},[s("div",{staticClass:"swiper"},[s("swipe-vue",{attrs:{url:t.goodsDetailUrl,id:this.$route.query.id}})],1)]),t._v(" "),s("div",{staticClass:"product-desc"},[s("ul",[s("li",[s("span",{staticClass:"product-desc-span"},[t._v("\n                "+t._s(t.prodInfo.title)+"\n            ")])]),t._v(" "),s("li",{staticClass:"price-li"},[t._v("市场价：\n                "),s("s",[t._v("￥"+t._s(t.prodInfo.market_price))]),t._v(" 销售价："),s("span",[t._v("￥"+t._s(t.prodInfo.sell_price))])]),t._v(" "),s("li",{staticClass:"number-li"},[t._v("购买数量："),s("span",{on:{click:t.sub}},[t._v("-")]),s("span",[t._v(t._s(t.num))]),s("span",{on:{click:t.add}},[t._v("+")])]),t._v(" "),s("li",[s("mt-button",{attrs:{type:"primary"}},[t._v("立即购买")]),t._v(" "),s("mt-button",{attrs:{type:"danger"},on:{click:t.addShopcart}},[t._v("加入购物车")])],1)])]),t._v(" "),s("transition",{attrs:{name:"ball"},on:{"after-enter":t.afterEnter}},[t.isShow?s("div",{staticClass:"ball"}):t._e()]),t._v(" "),s("div",{staticClass:"product-props"},[s("ul",[s("li",[t._v("商品参数："+t._s(t.prodInfo.id))]),t._v(" "),s("li",[t._v("商品货号："+t._s(t.prodInfo._id))]),t._v(" "),s("li",[t._v("库存情况："+t._s(t.prodInfo.stock_quantity)+"件")]),t._v(" "),s("li",[t._v("上架时间："+t._s(t._f("convertData")(t.prodInfo.add_time)))])])]),t._v(" "),s("div",{staticClass:"product-info"},[s("ul",[s("li",[s("mt-button",{attrs:{type:"primary",size:"large",plain:""},on:{click:t.showInfo}},[t._v("图文介绍")])],1),t._v(" "),s("li",[s("mt-button",{attrs:{type:"danger",size:"large",plain:""},on:{click:t.goodComment}},[t._v("商品评论")])],1)])])],1)};o._withStripped=!0;var n=s(19),a=s(20),r={data:function(){return{isShow:!1,prodInfo:{},goodsDetailUrl:"/goodsphoto",id:this.$route.query.id,num:1}},created:function(){var i=this,t=this.$route.query.id;this.$axios.get("/goodsDetail",{params:{id:t}}).then(function(t){i.goodsDetailUrl=t.data[0].img_url,i.prodInfo=t.data[0]}).catch(function(t){})},methods:{add:function(){this.num>=this.prodInfo.stock_quantity?this.num=this.prodInfo.stock_quantity:this.num++},sub:function(){this.num<=1?this.num=this.num:this.num--},addShopcart:function(){n.a.$emit("addShopcart",this.num),this.isShow=!0,a.a.addOrUpdate({id:this.prodInfo.id,num:this.num})},afterEnter:function(){this.isShow=!1},goodComment:function(){var t=this.$route.query.id;this.$router.push({name:"goods.comment",query:{id:t}})},showInfo:function(){var t=this.$route.query.id;this.$router.push({name:"goods.pictureInfo",query:{id:t}})}}},e=(s(216),s(16)),d=Object(e.a)(r,o,[],!1,null,"77a821a4",null);d.options.__file="src/components/goods/goodsDetail.vue";i.default=d.exports}}]);